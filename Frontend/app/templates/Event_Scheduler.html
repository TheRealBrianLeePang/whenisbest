<!DOCTYPE html>
<html lang = "en">
	<head>
		<link href='https://fonts.googleapis.com/css?family=Titillium Web' rel='stylesheet'>
		<script src='https://www.google.com/recaptcha/api.js'></script>
		<style>
			body {
				font-family: 'Titillium Web';
				text-align: left;
				color: #0a304e;
			}
			.element{
				width: 500px
				margin 0 auto;
			}
            .slider {
                -webkit-appearance: none;
                width: 100%;
                height: 15px;
                border-radius: 5px;
                background: #626262;
                outline: none;
                opacity: 0.7;
                -webkit-transition: .2s;
                transition: opacity .2s;
            }

            .slider::-webkit-slider-thumb {
                -webkit-appearance: none;
                appearance: none;
                width: 25px;
                height: 25px;
                border-radius: 50%;
                background: #0a304e;
                cursor: pointer;
            }

            .slider::-moz-range-thumb {
                width: 25px;
                height: 25px;
                border-radius: 50%;
                background: #0a304e;
                cursor: pointer;
            }

            .nameBox {
                width: 100%;
            }

            /* unvisited link */
            a:link {
            	color: #0a304e;
            }

            /* visited link */
            a:visited {
            	color: #626262;
            }

            /* mouse over link */
            a:hover {
           		color: black;
            }
		</style>
	</head>
    <title>WhenIsBest: Schedule an Event!</title>

    <body>
        <fieldset>
            <legend><h1>Let's schedule an event!</h1></legend>
            <form action="/schedule-event" method = "post"></form>
                <b>Name of Event:</b>
                <br/>
                <input name="name" type="text" value="" class = "nameBox" id = "eventName"/>
                <div id="space"></div>
                <br/>
                <b>Type of Event:</b>
                <br/>
                <input name="event-type" type="radio" value="one-time" id = "eventType"/> One-Time <br/>
                <input name="event-type" type="radio" value="recurring" id = "eventType"/> Recurring <br/>
                <div id="result"></div>
                <br/>
                <b>Time Increments:</b>
                <select name = "increments" id = "Choose" onclick="myFunction()">
                    <option value="0.25">Every 15 Minutes</option>
                    <option selected="selected" value="0.5">Every 30 Minutes</option>
                    <option value="1">Every Hour</option>
                </select>
                <br/>
                <br/>

                <b>Duration of Event:</b>
                <input type="range" min="0" max="24" step="0.5" value="1" class="slider" id="myRange">
                <br/>
                Value: <span id="demo"></span>
                <script>
                    var slider = document.getElementById("myRange");
                    var output = document.getElementById("demo");
                    output.innerHTML = slider.value + " hour(s) and 0 minute(s)."; // Display the default slider value

                    // Update the current slider value (each time you drag the slider handle)
                    slider.oninput = function() {
                        var hours = this.value;
                        var rhours = Math.floor(hours);
                        var minutes = (hours - rhours) * 60;
                        var rminutes = Math.round(minutes);
                        output.innerHTML = rhours + " hour(s) and " + rminutes + " minute(s).";
                    }
                </script>

                <script>
                    function myFunction() {
                        var select = document.getElementById("Choose");
                        var chosen = select.options[select.selectedIndex].value;
                        if (chosen == "0.25"){
                            var x = document.getElementById("myRange").step = "0.25";
                        }
                        else if(chosen == "0.5"){
                            var x = document.getElementById("myRange").step = "0.5";
                        }
                        else {
                            var x = document.getElementById("myRange").step = "1";
                        }
                    }
                </script>
            </form>
            <br>
            <br>
            <button id="launch">Create Event!</button>
			<script>
				var space = document.getElementById('space');
				var eventName = document.getElementById('eventName');
				var launch = document.getElementById('launch');
                var radios = document.getElementsByName('event-type');

				launch.addEventListener('click', function() {
					if (eventName.value == null || eventName.value == '') {
						space.innerHTML = "<b>*Please specify the name of the event.</b>";
					}
                    else{
                        space.innerHTML = "";
                    }

                    for (var i = 0, length = radios.length; i < length; i++) {
                        if (radios[i].checked) {
                            // do whatever you want with the checked radio
                            result.innerHTML = "";
                            alert(radios[i].value);

                            // only one radio can be logically checked, don't check the rest
                            break;
                        }
                        else{
                            result.innerHTML = "<b>*Please select the type of event.</b>";
                        }
                    }
                });
            </script>
        </fieldset>
    </body>
</html>
